{% extends "portal/base_admin.html" %}
{% load static %}

{% block title %}S·ª≠a s·ª± ki·ªán | Admin{% endblock %}
{% block header_title %}S·ª≠a s·ª± ki·ªán{% endblock %}
{% block header_subtitle %}Ch·ªânh s·ª≠a th√¥ng tin s·ª± ki·ªán trong h·ªá th·ªëng{% endblock %}

{% block menu_event_active %}active{% endblock %}

{% block content %}
<div class="card">
  <div class="card-header" style="display:flex;align-items:center;justify-content:space-between;gap:12px;">
    <div>
      <h3 style="margin:0;">S·ª≠a s·ª± ki·ªán</h3>
      <p style="margin:6px 0 0;color:#6b7280;">
        {{ event.title }} ‚Ä¢ {{ event.club.name }}
      </p>
    </div>
    <a class="btn btn-ghost" href="{% url 'portal:admin_panel:event_list' %}">‚Üê Quay l·∫°i</a>
  </div>

  <div class="card-body">
    <form method="post" novalidate>
      {% csrf_token %}

      {% if form.non_field_errors %}
        <div style="padding:10px;border:1px solid #fecaca;background:#fff1f2;color:#991b1b;border-radius:10px;margin-bottom:12px;">
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
        <div>
          <label style="font-weight:600;">CLB</label>
          {{ form.club }}
          {% if form.club.errors %}<div style="color:#dc2626;">{{ form.club.errors }}</div>{% endif %}
        </div>

        <div>
          <label style="font-weight:600;">Ng√†y t·ªï ch·ª©c</label>
          {{ form.event_date }}
          {% if form.event_date.errors %}<div style="color:#dc2626;">{{ form.event_date.errors }}</div>{% endif %}
        </div>
      </div>

      <div style="margin-top:12px;">
        <label style="font-weight:600;">T√™n s·ª± ki·ªán</label>
        {{ form.title }}
        {% if form.title.errors %}<div style="color:#dc2626;">{{ form.title.errors }}</div>{% endif %}
      </div>

      <div style="margin-top:12px;">
        <label style="font-weight:600;">Lo·∫°i s·ª± ki·ªán</label>
        {{ form.category }}
        {% if form.category.errors %}<div style="color:#dc2626;">{{ form.category.errors }}</div>{% endif %}
      </div>

      <div style="margin-top:12px;">
        <label style="font-weight:600;">·∫¢nh s·ª± ki·ªán (URL)</label>
        {{ form.image_url }}
        {% if form.image_url.errors %}<div style="color:#dc2626;">{{ form.image_url.errors }}</div>{% endif %}
      </div>

      <div style="margin-top:12px;">
        <label style="font-weight:600;">M√¥ t·∫£</label>
        {{ form.description }}
        {% if form.description.errors %}<div style="color:#dc2626;">{{ form.description.errors }}</div>{% endif %}
      </div>

      <div style="margin-top:12px;">
        <label style="font-weight:600;display:flex;align-items:center;gap:8px;">
          {{ form.is_cancelled }} ƒê√°nh d·∫•u ‚Äúƒê√£ hu·ª∑‚Äù
        </label>
        {% if form.is_cancelled.errors %}<div style="color:#dc2626;">{{ form.is_cancelled.errors }}</div>{% endif %}
      </div>

      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:16px;">
        <button type="submit" class="btn btn-primary">üíæ L∆∞u thay ƒë·ªïi</button>
        <a class="btn btn-secondary" href="{% url 'portal:admin_panel:event_list' %}">Hu·ª∑</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
