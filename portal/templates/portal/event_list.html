{% extends "portal/base_home.html" %}
{% load static %}

{% block title %}Sá»± kiá»‡n{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'portal/css/event_list.css' %}">
{% endblock %}

{% block content %}
<div class="lb-page">

  <!-- 1) Category row -->
  <div class="lb-categories">
    <a class="lb-cat" href="#">
      <div class="lb-cat__icon">ğŸ“˜</div>
      <div class="lb-cat__text">Workshop,<br>Há»c táº­p</div>
    </a>
    <a class="lb-cat" href="#">
      <div class="lb-cat__icon">ğŸµ</div>
      <div class="lb-cat__text">Ã‚m nháº¡c,<br>Tiá»‡c tÃ¹ng</div>
    </a>
    <a class="lb-cat" href="#">
      <div class="lb-cat__icon">ğŸ½ï¸</div>
      <div class="lb-cat__text">áº¨m thá»±c,<br>Tráº£i nghiá»‡m</div>
    </a>
    <a class="lb-cat" href="#">
      <div class="lb-cat__icon">ğŸƒ</div>
      <div class="lb-cat__text">Thá»ƒ thao,<br>Sá»©c khá»e</div>
    </a>
    <a class="lb-cat" href="#">
      <div class="lb-cat__icon">â™£ï¸</div>
      <div class="lb-cat__text">Sá»Ÿ thÃ­ch,<br>Giáº£i trÃ­</div>
    </a>
    <a class="lb-cat" href="#">
      <div class="lb-cat__icon">ğŸ¤</div>
      <div class="lb-cat__text">Hoáº¡t Ä‘á»™ng,<br>Cá»™ng Ä‘á»“ng</div>
    </a>
    <a class="lb-cat" href="#">
      <div class="lb-cat__icon">ğŸ“…</div>
      <div class="lb-cat__text">VÄƒn hÃ³a,<br>Lá»… há»™i</div>
    </a>
    <a class="lb-cat" href="#">
      <div class="lb-cat__icon">ğŸ§¾</div>
      <div class="lb-cat__text">Nghá» nghiá»‡p,<br>Äá»‹nh hÆ°á»›ng</div>
    </a>
  </div>

  <!-- 2) Filter bar -->
  <form method="get" class="lb-filters">
    <div class="lb-search">
      <span class="lb-search__icon">ğŸ”</span>
      <input
        type="text"
        name="q"
        value="{{ filters.q|default:'' }}"
        placeholder="TÃ¬m kiáº¿m Sá»± kiá»‡n"
      />
    </div>

    <select name="club" class="lb-select">
      <option value="">Loáº¡i sá»± kiá»‡n</option>
      {% for c in clubs %}
        <option value="{{ c.id }}" {% if filters.club == c.id|stringformat:"s" %}selected{% endif %}>
          {{ c.name }}
        </option>
      {% endfor %}
    </select>

    <select name="status" class="lb-select">
      <option value="all" {% if filters.status|default:'all' == "all" %}selected{% endif %}>Khu vá»±c</option>
      <option value="upcoming" {% if filters.status == "upcoming" %}selected{% endif %}>Sáº¯p diá»…n ra</option>
      <option value="ended" {% if filters.status == "ended" %}selected{% endif %}>ÄÃ£ káº¿t thÃºc</option>
    </select>

    <select name="sort" class="lb-select" disabled>
      <option>Sáº¯p xáº¿p theo</option>
    </select>

    <a class="lb-reset" href="{% url 'portal:event_list' %}">Bá» lá»c</a>
  </form>

  <!-- 3) Event list -->
  <div class="lb-events">
    {% if events %}
      {% for event in events %}
        <div class="lb-event">
          <div class="lb-event__media">
            {# Náº¿u báº¡n cÃ³ áº£nh: event.image.url thÃ¬ thay vÃ o #}
            <div class="lb-event__thumb">
              <span>áº¢nh</span>
            </div>
          </div>

          <div class="lb-event__body">
            <div class="lb-event__tag">Hoáº¡t Ä‘á»™ng, Cá»™ng Ä‘á»“ng</div>
            <div class="lb-event__title">{{ event.title }}</div>

            <div class="lb-event__meta">
              <div class="lb-meta-line">ğŸ‘¤ {{ event.club.name }}</div>
              {% if event.location %}
                <div class="lb-meta-line">ğŸ“ {{ event.location }}</div>
              {% endif %}
            </div>

            <div class="lb-event__actions">
              <a class="lb-btn" href="{% url 'portal:club_detail' event.club.id %}">Xem CLB</a>
            </div>
          </div>

          <div class="lb-event__date">
            <div class="lb-datebox">
              <div class="lb-datebox__day">{{ event.event_date|date:"d" }}</div>
              <div class="lb-datebox__month">ThÃ¡ng {{ event.event_date|date:"m" }}</div>
            </div>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <div class="lb-empty">KhÃ´ng cÃ³ sá»± kiá»‡n phÃ¹ há»£p.</div>
    {% endif %}
  </div>

</div>
{% endblock %}
