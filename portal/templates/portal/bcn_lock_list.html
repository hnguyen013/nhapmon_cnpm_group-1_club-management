{% extends "portal/base_admin.html" %}

{% block title %}Khoá/Mở khoá BCN{% endblock %}
{% block header_title %}Khoá/Mở khoá tài khoản BCN{% endblock %}
{% block header_subtitle %}US-A3.4 – Admin khoá/mở khoá tài khoản BCN{% endblock %}

{% block content %}
  <div style="background:#fff; padding:16px; border-radius:12px;">
    <h3>Danh sách BCN</h3>

    <table style="width:100%; border-collapse:collapse; margin-top:12px;">
      <thead>
        <tr>
          <th style="text-align:left; padding:10px; border-bottom:1px solid #e5e7eb;">Username</th>
          <th style="text-align:left; padding:10px; border-bottom:1px solid #e5e7eb;">Họ tên</th>
          <th style="text-align:left; padding:10px; border-bottom:1px solid #e5e7eb;">Trạng thái</th>
          <th style="text-align:left; padding:10px; border-bottom:1px solid #e5e7eb;">Hành động</th>
        </tr>
      </thead>
      <tbody>
        {% for p in bcns %}
          <tr>
            <td style="padding:10px; border-bottom:1px solid #f1f5f9;">{{ p.user.username }}</td>
            <td style="padding:10px; border-bottom:1px solid #f1f5f9;">{{ p.full_name }}</td>
            <td style="padding:10px; border-bottom:1px solid #f1f5f9;">
              {% if p.user.is_active %}Đang hoạt động{% else %}Đã khoá{% endif %}
            </td>
            <td style="padding:10px; border-bottom:1px solid #f1f5f9;">
              <a href="{% url 'portal:admin_panel:bcn_toggle_lock' p.user.id %}">
                {% if p.user.is_active %}Khoá{% else %}Mở khoá{% endif %}
              </a>
            </td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="4" style="padding:12px;">Chưa có tài khoản BCN.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
