{% extends "portal/base_home.html" %}
{% load static %}

{% block title %}
  {{ event.title|default:"Chi tiáº¿t sá»± kiá»‡n" }}
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'portal/css/event_detail.css' %}">
{% endblock %}

{% block content %}
<div class="ed-container">
  <!-- Back to event list -->
  <div class="ed-topbar">
  <div class="ed-topbar">
    <a class="ed-back" href="{% url 'portal:event_list' %}">â† Quay láº¡i danh sÃ¡ch</a>
  </div>

  <div class="ed-grid">
    <!-- LEFT -->
    <section class="ed-main">
      <div class="ed-badge">Hoáº¡t Ä‘á»™ng, Cá»™ng Ä‘á»“ng</div>

      <h1 class="ed-title">{{ event.title|default:"(ChÆ°a cÃ³ tiÃªu Ä‘á»)" }}</h1>

      <div class="ed-org">
        <div class="ed-org-avatar">
          {% if event.club and event.club.logo %}
            <img src="{{ event.club.logo.url }}" alt="logo">
          {% else %}
            <span>
              {% if event.club %}{{ event.club.name|slice:":1" }}{% else %}C{% endif %}
            </span>
          {% endif %}
        </div>

        <div class="ed-org-meta">
          <div class="ed-org-name">
            {% if event.club %}{{ event.club.name }}{% else %}ÄÆ¡n vá»‹ tá»• chá»©c{% endif %}
          </div>
          <div class="ed-org-role">ÄÆ¡n vá»‹ tá»• chá»©c</div>
        </div>
      </div>

      <div class="ed-section">
        <h2 class="ed-section-title">Ná»™i dung chi tiáº¿t</h2>

        {% if event.description %}
          <div class="ed-desc">{{ event.description|linebreaksbr }}</div>
        {% else %}
          <div class="ed-desc muted">ChÆ°a cÃ³ mÃ´ táº£.</div>
        {% endif %}
      </div>
    </section>

    <!-- RIGHT -->
    <aside class="ed-side">
      <div class="ed-card">
        <div class="ed-cover">
          {% if event.image %}
            <img src="{{ event.image.url }}" alt="event cover">
          {% else %}
            <div class="ed-cover-fallback">
              <div class="ed-cover-fallback-title">{{ event.title|default:"Sá»± kiá»‡n" }}</div>
              <div class="ed-cover-fallback-sub">Sá»± kiá»‡n</div>
            </div>
          {% endif %}
        </div>

        <div class="ed-info">
          <div class="ed-info-row">
            <div class="ed-ico">ğŸ•’</div>
            <div class="ed-info-col">
              <div class="ed-info-label">Thá»i gian</div>
              <div class="ed-info-value">
                {% if event.event_date %}{{ event.event_date|date:"d/m/Y" }}
                {% elif event.date %}{{ event.date|date:"d/m/Y" }}
                {% elif event.start_time %}{{ event.start_time|date:"d/m/Y" }}
                {% else %}â€”{% endif %}
              </div>
            </div>
          </div>

          <div class="ed-info-row">
            <div class="ed-ico">ğŸ“</div>
            <div class="ed-info-col">
              <div class="ed-info-label">Äá»‹a Ä‘iá»ƒm</div>
              <div class="ed-info-value">
                {% if event.location %}{{ event.location }}{% else %}â€”{% endif %}
              </div>
            </div>
          </div>

          <div class="ed-info-row">
            <div class="ed-ico">ğŸ‘¥</div>
            <div class="ed-info-col">
              <div class="ed-info-value">
                {{ participants_count|default:0 }} ngÆ°á»i sáº½ tham gia sá»± kiá»‡n nÃ y
              </div>
            </div>
          </div>

          <div class="ed-actions">
          </div>
        </div>
      </div>
    </aside>

  </div>
</div>
{% endblock %}
